/* 관리자 도서 관리 전용 보강 (00_common + header + admin-usersInfo.css 기반) */

.admin-books .toolbar{
    display:flex;
    justify-content:flex-end;
    gap:8px;
    margin-bottom: var(--space-2);
}

.admin-books-table .t-left { text-align:left; }
.admin-books-table .t-right { text-align:right; }
.admin-books-table .t-center { text-align:center; }
/* ---------- 테이블 레이아웃 ---------- */
.admin-books-table {
    table-layout: fixed;
    width: 100%;
    /* 화면이 좁아져도 셀이 뭉개지지 않도록 최소 너비 확보 → 래퍼가 가로 스크롤 제공 */
    min-width: 980px;
}
/* ---------- 열 폭(데스크톱 기준) ---------- */
.admin-books-table col.col-id        { width: 84px; }
.admin-books-table col.col-title     { width: auto; min-width: 260px; } /* 제목은 넉넉히 */
.admin-books-table col.col-isbn      { width: 160px; }
.admin-books-table col.col-author    { width: 140px; }
.admin-books-table col.col-publisher { width: 160px; }
.admin-books-table col.col-price     { width: 110px; }
.admin-books-table col.col-stock     { width: 90px; }
.admin-books-table col.col-created   { width: 160px; }
.admin-books-table col.col-actions   { width: 160px; }
/* 제목은 줄바꿈 허용(너비 좁아도 보기 좋게) */
.admin-books-table td:nth-child(2),
.admin-books-table th:nth-child(2) {
    white-space: normal;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* ---------- 공통: 테이블 스크롤 래퍼 ---------- */
.table-scroll {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}

/* 제목은 2줄까지만 표시 + 말줄임 */
.title-ellipsis{
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    line-height: 1.3;
    max-height: calc(1.3em * 2);
}

/* ISBN 모노스페이스 */
.isbn-mono{
    font-family: ui-monospace, Menlo, Consolas, monospace;
    font-size: .9rem;
    letter-spacing: .02em;
}

/* 재고 칩 */
.stock-chip{
    display:inline-flex; align-items:center; justify-content:center;
    min-width: 48px; height: 26px; padding: 0 8px;
    border:1px solid var(--color-border);
    border-radius: 999px;
    font-size:.82rem; font-weight:600;
    background:#FAFAFA; color: var(--color-accent-dark);
}
.stock-chip.ok{ background:#EAF4EA; color:#265a2a; }
.stock-chip.out{ background:#F8ECE8; color:#5C2E23; }

/* ============ 모달 ============ */
.modal{
    position: fixed; inset: 0;
    display: none;
}
.modal.is-open{ display: block; }
.modal__overlay{
    position: absolute; inset: 0;
    background: rgba(0,0,0,.35);
}
.modal__dialog{
    position: absolute; inset: 0;
    margin: auto;
    width: min(92%, 720px);
    max-height: 88vh;
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius);
    box-shadow: var(--shadow-md);
    display: flex; flex-direction: column;
    overflow: hidden;
}
.modal__header{
    display:flex; align-items:center; justify-content:space-between;
    padding: 12px 16px;
    border-bottom:1px solid var(--color-border);
}
.modal__header h3{ margin:0; font-size:1.1rem; font-weight:700; }
.modal__close{
    width:32px; height:32px; border-radius: 8px; cursor:pointer;
    background:#f3f3f3;
}
.modal__body{
    padding: 16px;
    overflow:auto;
}
.form-grid{
    display:grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
}
.form-grid label{
    display:flex; flex-direction:column; gap:6px; font-size:.9rem;
}
.form-grid input,
.form-grid select{
    height:38px; padding:0 10px;
    border:1px solid var(--color-border);
    border-radius: var(--radius-sm);
    background:#fff;
}
.modal__footer{
    display:flex; justify-content:flex-end; gap:8px;
    padding: 12px 16px;
    border-top:1px solid var(--color-border);
}

/* ---------- 반응형: 열 숨김 유틸 ---------- */
/* 관리자(도서관리) 화면만 컨테이너 폭 넓게 */
.admin-books .page{
    width: min(92%, 1280px);   /* 기본 60vw 대신 더 넓게 */
}

@media (min-width: 1440px){
    .admin-books .page{ width: min(90%, 1360px); }
}

/* 1200px 이하: 덜 중요한 컬럼 일부 숨김(가로폭 확보) */
@media (max-width: 1200px){
    .admin-books-table th.hide-lg,
    .admin-books-table td.hide-lg { display: none; }
}

/* 992px 이하: 더 좁아지면 ISBN도 숨김 */
@media (max-width: 992px){
    .admin-books-table th.hide-md,
    .admin-books-table td.hide-md { display: none; }
    /* 제목 최소폭 축소 */
    .admin-books-table col.col-title { min-width: 220px; }
}

/* 768px 이하: 모바일 보정 */
@media (max-width: 768px){
    .admin-books-table { min-width: 720px; } /* 너무 빡빡하면 스크롤 */
    .admin-books-table col.col-title { min-width: 200px; }
}

/* 아주 작은 기기(<= 480px)에서도 무너짐 방지 */
@media (max-width: 480px){
    .admin-books-table { min-width: 680px; }
    .admin-books-table col.col-title { min-width: 180px; }
}