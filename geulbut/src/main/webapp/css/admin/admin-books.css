/* ============================================
   관리자 - 도서 관리 (단일 CSS, usersInfo.css 불필요)
   - 회원조회 페이지 톤을 그대로 이식
   - 가로 스크롤: 데스크톱은 없음, 좁은 화면에서만 발생
============================================ */

/* 팔레트/토큰 (00_common.css 미로딩 대비 폴백) */
:root{
    --color-bg:#ECECEC; --color-surface:#fff;
    --color-accent:#666; --color-accent-dark:#333;
    --color-text:#333; --color-text-light:#888;
    --color-border:rgba(0,0,0,.12);
    --radius-sm:8px; --radius:12px; --radius-lg:16px;
    --shadow-sm:0 2px 6px rgba(0,0,0,.08);
    --shadow-md:0 8px 24px rgba(0,0,0,.12);
    --space-0:0; --space-1:.25rem; --space-2:.5rem; --space-3:1rem; --space-4:1.5rem; --space-5:2rem;
    --admin-accent-dark:#0056b3; --admin-btn-delete:#dc3545; --admin-detail-bg:#f1f5f9;
}

*,*:before,*:after{ box-sizing:border-box }
html,body{ height:100% }
body{
    margin:0; background:var(--color-bg); color:var(--color-text);
    font-family:"Montserrat","Noto Sans KR",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}

/* 페이지 컨테이너: 회원조회와 동일한 폭 */
.admin-books .page{ width:min(92%, 1280px); margin-inline:auto; }
@media (min-width:1440px){ .admin-books .page{ width:min(90%,1360px); } }

h1{ margin: var(--space-4) 0 var(--space-2); }

/* ---------------- 검색 ---------------- */
.search-wrapper{ display:flex; flex-direction:column; align-items:center; gap:8px; margin-bottom:16px; }
.search-form{
    display:flex; align-items:stretch; width:100%; max-width:680px; height:44px;
    border:1px solid var(--color-border); border-radius:var(--radius);
    background:var(--color-surface); overflow:hidden; box-shadow:var(--shadow-sm);
}
.search-form input[type="text"]{
    flex:1; min-width:0; height:100%; padding:0 12px; font-size:.95rem;
    color:var(--color-text); background:var(--color-surface); border:none;
}
.search-form input::placeholder{ color:var(--color-text-light); }
.search-form .btn-search{
    height:100%; padding:0 16px; font-size:.9rem; font-weight:600; color:#fff; cursor:pointer;
    background:var(--color-accent-dark); border-left:1px solid var(--color-border);
    transition:opacity .2s;
}
.search-form .btn-search:hover{ opacity:.92 }
.search-form .btn-search:active{ opacity:.86 }

/* ------------- 상단 툴바 -------------- */
.toolbar{ display:flex; justify-content:flex-end; gap:8px; margin: var(--space-2) 0; }
.btn{ display:inline-block; min-width:60px; height:28px; padding:0 10px; font-size:.85rem;
    font-weight:500; border:none; border-radius:var(--radius-sm); cursor:pointer; }
.btn-accent{ background:var(--color-accent); color:#fff; }
.btn-accent:hover{ background:var(--admin-accent-dark); }
.btn-delete{ background:var(--admin-btn-delete); color:#fff; }

/* ---------- 테이블 (회원조회 톤) ---------- */
.admin-table{
    width:100%; border-collapse:collapse; table-layout:fixed;
    background:var(--color-surface); box-shadow:var(--shadow-sm);
    border-radius:var(--radius); overflow:hidden; margin-top:var(--space-4);
}

/* 테이블 자체는 깨지지 않게 고정폭/최소폭 */
.admin-books-table {
    table-layout: fixed;
    width: 100%;
    min-width: 980px;   /* 필요시 1040~1120으로 늘려도 OK */
}

/* === 테이블 공통 (유지) === */
.admin-table th,
.admin-table td{
    padding: var(--space-2) var(--space-3);
    text-align: center;
    border-bottom: 1px solid var(--color-border);
    font-size: .9rem;
    vertical-align: middle;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* 작업(마지막) 칼럼: 말줄임/숨김 해제 + 패딩 축소 + 가운데 정렬 */
.admin-books-table th:last-child,
.admin-books-table td:last-child{
    display: table-cell !important;   /* flex 해제(있다면) */
    vertical-align: middle;
    text-align: center;

    overflow: visible !important;     /* ← 잘려서 … 나오는 원인 해제 */
    text-overflow: clip !important;
    white-space: nowrap;

    padding-left: 8px;                /* 좌우 패딩 축소(기존 16px → 8px 가정) */
    padding-right: 8px;
}

.admin-table thead th{ background:var(--color-bg); color:var(--color-accent-dark); font-weight:600; }

/* ✅ 데스크톱 기준 컬럼 폭 재배치(합계 1084px) — 제목은 가변 */
.admin-books-table col.col-id{        width: 84px; }
.admin-books-table col.col-title{     width: auto; min-width: 220px; }
.admin-books-table col.col-isbn{      width: 130px; }  /* ↓ 폭 줄임 */
.admin-books-table col.col-author{    width: 120px; }
.admin-books-table col.col-publisher{ width: 120px; }
.admin-books-table col.col-category{  width: 120px; }
.admin-books-table col.col-price{     width: 90px;  text-align: right; }
.admin-books-table col.col-discount{  width: 90px;  text-align: right; }
.admin-books-table col.col-stock{     width: 70px; }
.admin-books-table col.col-created{   width: 140px; }
.admin-books-table col.col-actions{   width: 170px; }

.admin-books-table .t-left{text-align:left} .admin-books-table .t-right{text-align:right} .admin-books-table .t-center{text-align:center}

/* 제목 2줄 말줄임 */
.title-ellipsis{
    display:-webkit-box; -webkit-box-orient:vertical; -webkit-line-clamp:2;
    overflow:hidden; line-height:1.3; max-height:calc(1.3em * 2);
}

/* ISBN 모노 */
.isbn-mono{ font-family:ui-monospace,Menlo,Consolas,monospace; letter-spacing:.02em; font-size:.9rem; }

/* 두 버튼 동일 크기 + 수평 간격 유지 */
.admin-books-table .btnEdit,
.admin-books-table .btnDelete{
    display: inline-block;
    min-width: 60px;                  /* 60~64px 사이 권장 */
    height: 28px;
    line-height: 28px;
    padding: 0 10px;
    box-sizing: border-box;
    vertical-align: middle;
}
.admin-books-table .btnDelete{ margin-left: 8px; }

/* 색상은 기존과 동일 유지 */
.admin-books-table .btnEdit{ background: var(--color-accent); color: #fff; }
.admin-books-table .btnEdit:hover{ background: var(--admin-accent-dark); }
.admin-books-table .btnDelete{ background: var(--admin-btn-delete); color: #fff; }

/* 수평 스크롤 래퍼(좁을 때만 나타남) */
.table-scroll{ overflow-x:auto; -webkit-overflow-scrolling:touch; }

/* 페이지네이션 */
.pagination{ display:flex; justify-content:center; gap:6px; margin: var(--space-2) 0 var(--space-4) }
.pagination a{ padding:3px 8px; border:1px solid #ccc; border-radius:var(--radius-sm); text-decoration:none; color:inherit }
.pagination a:hover{ background:#0056b3; color:#fff }
.pagination a.active{ font-weight:700; background:#ddd }

/* 오버레이 */
#bookModal{
    position:fixed; inset:0; display:none;
    background:rgba(0,0,0,.35);
    overflow:auto; padding:6vh 0;
    z-index: 1000;
}

/* 다이얼로그 */
#bookModal .modal__dialog{
    width:min(92%, 720px);
    margin:0 auto;
    background:#fff;
    border:1px solid var(--color-border);
    border-radius:12px;
    box-shadow:0 8px 24px rgba(0,0,0,.12);
    overflow:hidden;
}

/* 헤더 */
#bookModal .modal__header{
    display:flex; align-items:center; justify-content:space-between;
    padding:10px 14px;
    border-bottom:1px solid var(--color-border);
}
#bookModal .modal__close{
    width:32px; height:32px; border-radius:8px; background:#f3f3f3; cursor:pointer; border:none;
}

/* 폼: 데스크톱 2단, 모바일 1단 / 간격 & 패딩 축소 */
#bookModal .modal__form{
    display:grid;
    grid-template-columns:minmax(0,1fr) minmax(0,1fr);
    gap:10px;
    padding:14px;
}
#bookModal .modal__form label{
    display:flex; flex-direction:column; gap:4px; font-size:.9rem;
}
#bookModal input, #bookModal select{
    height:36px; padding:0 10px;
    border:1px solid var(--color-border);
    border-radius:8px;
    width:100%; min-width:0; /* 입력요소 넘침 방지 */
}

/* 풋터: 오른쪽 정렬, 위쪽 경계선 */
#bookModal .modal__footer{
    grid-column:1 / -1;
    display:flex; justify-content:flex-end; gap:8px;
    padding:10px 14px; border-top:1px solid var(--color-border);
}

/* 모바일에서는 1단 */
@media (max-width: 900px){
    #bookModal .modal__form{ grid-template-columns:1fr; }
}



/* 모바일/좁은폭에서는 1단 */
@media (max-width: 900px){
    #bookModal .modal__form{ grid-template-columns: 1fr; }
}

/* ✅ 넓은 화면에서는 테이블 래퍼 가로 스크롤 숨김 (실제 합계가 안 넘도록 위에서 맞춰둠) */
@media (min-width: 1280px){
    .table-scroll{ overflow-x: hidden; }
}

/* 반응형(그대로 유지 가능) — 좁아질수록 덜 중요한 컬럼을 숨김 */
@media (max-width:1200px){
    .admin-books-table th.hide-lg,
    .admin-books-table td.hide-lg{ display:none; }
}
@media (max-width:992px){
    .admin-books-table th.hide-md,
    .admin-books-table td.hide-md{ display:none; }
    .admin-books-table col.col-title{ min-width: 200px; }
}

@media (max-width: 768px){
    #booksTable { display: table; } /* 강제로 되돌리기용(있으면 유지) */
}
